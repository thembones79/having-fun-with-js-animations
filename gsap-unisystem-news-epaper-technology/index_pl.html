<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
    <p>Some text</p>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.1/gsap.min.js"></script>
    <script>
      const anim = document.getElementById("root");
      fetch("/media/news_pictures/epaper-technology_PL3.svg")
        .then(function (response) {
          return response.text();
        })
        .then(function (html) {
          anim.innerHTML = html;
        })
        .then(function bannerAnimation() {
          const whiteCapsule = document.getElementById("whites");
          const whites = whiteCapsule.children;
          const blackCapsule = document.getElementById("blacks");
          const blacks = blackCapsule.children;
          const icon = document.getElementById("icon");
          const ink = document.getElementById("ink");
          const title = document.getElementById("title-2");
          const headline = document.getElementById("headline-2");
          const sidebar = document.getElementById("sidebar");
          const rectangle = document.getElementById("rectangle");
          const anode = document.getElementById("anode-2");
          const kathode = document.getElementById("kathode-2");
          const arrow_w_txt = document.getElementById("arrow_w_txt");
          const background = document.getElementById("background");
          const tl = gsap.timeline({
            defaults: { ease: "power3.inOut", duration: 1 },
          });

          tl.from(background, {
            autoAlpha: 0,
            ease: "linear",
            duration: 1.2,
          })
            .from(sidebar, {
              x: "-=400",
              autoAlpha: 0,
              ease: "power4.out",
              duration: 0.6,
            })
            .from(
              icon,
              { y: "+=200", autoAlpha: 0, ease: "power4.out" },
              "-=0.2"
            )
            .from(title, { scaleX: 0, y: "+=300", autoAlpha: 0 }, "-=1")
            .from(rectangle, {
              rotation: "200",
              scale: 0,
              transformOrigin: "50% 50%",
              autoAlpha: 0,
              ease: "back",
            })
            .from(headline, { scaleX: 0, autoAlpha: 0 }, "-=0.5")
            .from(
              ink,
              {
                scale: 0,
                transformOrigin: "50% 50%",
                duration: 2,
                autoAlpha: 0,
              },
              "-=1.0"
            )
            .from(arrow_w_txt, {
              autoAlpha: 0,
              y: "+=400",
              ease: "back",
              duration: 1.2,
            })
            .addLabel("bonanza")
            .to(
              anode,
              {
                repeat: -1,
                yoyo: true,
                repeatDelay: 2.1,
                duration: 0.8,
                delay: 1,
                ease: "linear",
                fill: "#FFF7F0",
                stroke: "#AF8F6A",
              },
              "bonanza"
            )
            .to(
              kathode,
              {
                repeat: -1,
                yoyo: true,
                repeatDelay: 2.1,
                duration: 0.8,
                delay: 1,
                ease: "linear",
                fill: "#F0F8FF",
                stroke: "#6A8CAF",
              },
              "bonanza"
            )
            .to(
              whites,
              {
                repeat: -1,
                y: "+=400",
                x: "+=30",
                yoyo: true,
                repeatDelay: 2,
                duration: 0.6,
                delay: 1,
                ease: "power2.inOut",
                stagger: 0.02,
              },
              "bonanza"
            )
            .to(
              blacks,
              {
                repeat: -1,
                y: "-=400",
                x: "-=30",
                yoyo: true,
                repeatDelay: 2,
                duration: 0.6,
                delay: 1,
                ease: "power2.inOut",
                stagger: 0.02,
              },
              "bonanza"
            );
        });
    </script>
  </body>
</html>
